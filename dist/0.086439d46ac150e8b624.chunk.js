webpackJsonp([0],{156:function(t,s,a){"use strict";var e=a(3);s.a={components:{delModal:e.b},props:["data","isOwn"],data:function(){return{}},methods:{follow:function(t){var s=this;this.$fetch.goods.follow({followers_id:t}).then(function(t){200===t.code?s.data.is_fans=t.data:s.$Message.error(t.msg)})},onClick:function(t){0===t?this.$refs.del.openModal():1===t&&this.sold_goods()},del_goods:function(){var t=this;this.$fetch.goods.del({goods_id:this.data.goods_id}).then(function(s){200===s.code?(t.$refs.del.closeModal(),t.$Message.success(s.msg),t.$emit("getGoods")):t.$Message.error(s.msg)})},sold_goods:function(){var t=this;this.$fetch.user.sold_goods({goods_id:this.data.goods_id}).then(function(s){200===s.code?(t.$Message.success(s.msg),t.$emit("getGoods")):t.$Message.error(s.msg)})}},computed:{uid:function(){if(this.$store.state.user.info)return this.$store.state.user.info.user_id}}}},157:function(t,s,a){"use strict";function e(t){n||a(170)}var o=a(156),i=a(171),n=!1,r=a(0),d=e,c=r(o.a,i.a,!1,d,"data-v-933cd5ca",null);c.options.__file="src\\views\\main-components\\goods-uitem.vue",s.a=c.exports},170:function(t,s){},171:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("Card",{attrs:{"dis-hover":!0}},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"8"}},[a("img",{staticStyle:{width:"145px",height:"145px"},attrs:{src:t.data.goods_icon[0].url,alt:t.data.goods_name}}),t._v(" "),a("div",{staticClass:"tag"},[1===t.data.goods_spread?a("Tag",{attrs:{color:"red"}},[t._v("精品")]):t._e(),t._v(" "),3===t.data.goods_status?a("Tag",{attrs:{color:"gray"}},[t._v("已出")]):t._e(),t._v(" "),0===t.data.goods_sell?a("Tag",{attrs:{color:"orange"}},[t._v("求购")]):t._e()],1)]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("div",{staticClass:"clearfix goods_info"},[a("router-link",{staticClass:"fl",attrs:{to:{name:"goods",params:{gid:t.data.goods_id}},target:"_blank"}},[a("h3",{staticClass:"goods_name text-success"},[t._v(t._s(t.data.goods_name))])]),t._v(" "),t.data.user.id==t.uid?a("Dropdown",{staticClass:"more fr",attrs:{trigger:"click"},on:{"on-click":t.onClick}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"ios-more"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:0}},[t._v("删除")]),t._v(" "),2===t.data.goods_status?a("DropdownItem",{attrs:{name:1}},[t._v("下架")]):t._e()],1)],1):t._e()],1),t._v(" "),a("Row",{staticClass:"mt10"},[a("Col",{attrs:{span:"5"}},[a("p",[t._v("分类：")])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("p",[t._v(t._s(t.data.gclassify.name))])])],1),t._v(" "),a("Row",{staticClass:"mt10"},[a("Col",{attrs:{span:"5"}},[a("p",[t._v("现价：")])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("p",[t._v("￥"+t._s(t.data.goods_nprice)+" 元")])]),t._v(" "),a("Col",{attrs:{span:"5"}},[t._v("原价：")]),t._v(" "),a("Col",{staticClass:"oprice",attrs:{span:"6"}},[t._v("￥"+t._s(t.data.goods_oprice)+" 元")])],1),t._v(" "),a("div",{staticClass:"mt15"},[a("Button",{staticClass:"mr30",attrs:{icon:"heart",type:t.data.is_fans?"warning":"ghost"},on:{click:function(s){t.follow(t.data.goods_id)}}},[t._v(t._s(t.data.is_fans?"已":"")+"收藏")]),t._v(" "),t.isOwn?a("router-link",{attrs:{to:{name:"gedit",params:{gid:t.data.goods_id}},target:"_blank"}},[a("Button",{staticClass:"w100",attrs:{icon:"compose",type:"success"}},[t._v("编辑")])],1):a("Button",{staticClass:"w100",attrs:{icon:"card",type:"success"}},[t._v("购买")])],1)],1)],1),t._v(" "),a("del-modal",{ref:"del",attrs:{type:1,id:t.data.goods_id},on:{delGoods:t.del_goods}})],1)},o=[];e._withStripped=!0;var i={render:e,staticRenderFns:o};s.a=i},180:function(t,s,a){"use strict";var e=a(157),o=a(3);s.a={components:{goodsUitem:e.a,myMeau:o.g},data:function(){return{data:[],page:1,total:0,num:5,meau:[{name:0,icon:"bag",title:"全部"},{name:2,icon:"bag",title:"出售"},{name:1,icon:"bag",title:"未过审"},{name:3,icon:"happy-outline",title:"已下架"}],active:0,status:0,loading:!1}},computed:{uid:function(){return this.$route.params.uid?this.$route.params.uid:this.user_id},user_id:function(){if(this.$store.state.user.info)return this.$store.state.user.info.user_id},isOwn:function(){return this.user_id===this.uid},type:function(){return this.$route.meta.type}},watch:{type:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.type,this.getGoods()},getGoods:function(){var t=this;this.loading=!0,this.$fetch.goods.get({uid:this.uid,page:this.page,num:this.num,goods_status:this.status}).then(function(s){t.loading=!1,200===s.code?(t.data=s.data,t.total=s.total):t.$Message.error(s.msg)})},get_followers:function(){var t=this;this.$fetch.goods.get_followers({user_id:this.uid,page:this.page}).then(function(s){200===s.code?(t.data=s.data,t.total=s.total):t.$Message.error(s.msg)})},publish:function(){this.$router.push({name:"publish"})},changePage:function(t){this.page=t,this.init()},changeMeau:function(t){this.active=t,this.status=t,this.getGoods()}}}},211:function(t,s){},212:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",["usell"===t.type?a("my-meau",{staticClass:"meau",attrs:{meau:t.meau,active:t.active},on:{changeMeau:t.changeMeau}}):t._e(),t._v(" "),0==t.data.length?a("div",{staticStyle:{"text-align":"center"}},[a("p",{staticStyle:{margin:"50px 0"}},[t._v("没有找到任何二货哦~")]),t._v(" "),t.user_id===t.uid&&"sell"===t.type?a("Button",{attrs:{type:"success"},on:{click:t.publish}},[t._v("现在发布")]):t._e()],1):a("div",[a("Row",{attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{total:t.total,"show-total":"","show-elevator":"",size:"small",current:t.page,"page-size":t.num},on:{"on-change":t.changePage}})],1),t._v(" "),t._l(t.data,function(s,e){return a("goods-uitem",{key:e,staticStyle:{margin:"20px 0"},attrs:{data:s,isOwn:t.isOwn},on:{getGoods:t.getGoods}})}),t._v(" "),a("Row",{attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{total:t.total,"show-total":"","show-elevator":"",size:"small",current:t.page,"page-size":t.num},on:{"on-change":t.changePage}})],1)],2),t._v(" "),t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},o=[];e._withStripped=!0;var i={render:e,staticRenderFns:o};s.a=i},7:function(t,s,a){"use strict";function e(t){n||a(211)}Object.defineProperty(s,"__esModule",{value:!0});var o=a(180),i=a(212),n=!1,r=a(0),d=e,c=r(o.a,i.a,!1,d,"data-v-15ce9a3f",null);c.options.__file="src\\views\\user\\sell.vue",s.default=c.exports}});